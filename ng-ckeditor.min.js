/*! ngCkeditor v0.2.1 by Vitalii Savchuk(esvit666@gmail.com) - https://github.com/esvit/ng-ckeditor - New BSD License */

!function(a,b){return"function"==typeof define&&define.amd?void define(["angular","ckeditor"],function(a){return b(a)}):b(a)}(angular||null,function(a){var b,c=a.module("ngCkeditor",[]),d=!1;return c.run(["$q","$timeout",function(c,e){function f(){"loaded"==CKEDITOR.status?(d=!0,b.resolve()):f()}if(b=c.defer(),a.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0,CKEDITOR.on("loaded",f),e(f,100)}]),c.directive("ckeditor",["$timeout","$q",function(c,e){"use strict";return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(f,g,h,i){var j=i[0],k=i[1]||null,l="<p></p>",m="textarea"==g[0].tagName.toLowerCase(),n=[],o=!1;m||g.attr("contenteditable",!0);var p=function(){var b={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"};if(b=a.extend(b,f[h.ckeditor]),h.ckreadonly){var d=f.$eval(h.ckreadonly);b.readOnly=d,f.$watch(h.ckreadonly,function(a){i&&o&&i.setReadOnly(a)})}var i=m?CKEDITOR.replace(g[0],b):CKEDITOR.inline(g[0],b),p=e.defer();g.bind("$destroy",function(){i.destroy(!1)});var q=function(a){var b=i.getData();""==b&&(b=null),c(function(){(a!==!0||b!=j.$viewValue)&&j.$setViewValue(b),a===!0&&k&&k.$setPristine()},0)},r=function(a){if(n.length){var b=n.pop()||l;o=!1,i.setData(b,function(){q(a),o=!0})}};i.on("change",q),i.on("blur",q);var s=function(){f.$broadcast("ckeditor.ready",i),f.$apply(function(){r(!0)}),i.document.on("keyup",q)};i.on("instanceReady",function(){m?i.once("contentDom",s):s()}),i.on("customConfigLoaded",function(){p.resolve()}),j.$render=function(){n.push(j.$viewValue),o&&r()}};"loaded"==CKEDITOR.status&&(d=!0),d?p():b.promise.then(p)}}}]),c});
//# sourceMappingURL=ng-ckeditor.min.map